<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::title}, ~{::#pageStyles}, ~{::section})}">
<head>
    <title>New Book</title>
    <th:block id="pageStyles">
        <style>
            label { display:block; margin: 8px 0 4px; }
            input, select { width: 320px; max-width: 100%; padding: 6px; }
            form { max-width: 420px; }
        </style>
    </th:block>
</head>
<body>
<section>
<h1>Add New Book</h1>

<form th:action="@{/books}" method="post" th:object="${book}">
    <label for="title">Title</label>
    <input id="title" type="text" th:field="*{title}" required />

    <label for="author">Author</label>
    <input id="author" type="text" th:field="*{author}" required />

    <label for="pubYear">Publication Year</label>
    <input id="pubYear" type="number" th:field="*{pubYear}" />

    <label for="type">Type</label>
    <select id="type" th:field="*{type}">
        <option th:each="t : ${types}" th:value="${t}" th:text="${t}"></option>
    </select>

    <div style="margin-top:12px;">
        <button type="submit">Create</button>
        <a th:href="@{/books}" style="margin-left:8px;">Cancel</a>
    </div>
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    
</form>

</section>
</body>
</html>
